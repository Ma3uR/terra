!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){return function(e){return!!e&&"object"===n(e)}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?f((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function s(e,t,r){return e.concat(t).map((function(e){return a(e,r)}))}function c(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function u(e,t){try{return t in e}catch(e){return!1}}function l(e,t,r){var n={};return r.isMergeableObject(e)&&c(e).forEach((function(t){n[t]=a(e[t],r)})),c(t).forEach((function(i){(function(e,t){return u(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(u(e,i)&&r.isMergeableObject(t[i])?n[i]=function(e,t){if(!t.customMerge)return f;var r=t.customMerge(e);return"function"==typeof r?r:f}(i,r)(e[i],t[i],r):n[i]=a(t[i],r))})),n}function f(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||s,r.isMergeableObject=r.isMergeableObject||i,r.cloneUnlessOtherwiseSpecified=a;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):l(e,t,r):a(t,r)}f.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return f(e,r,t)}),{})};var d=f;e.exports=d},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"ucFirst",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"lcFirst",value:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}},{key:"toDashCase",value:function(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}},{key:"toLowerCamelCase",value:function(t,r){var n=e.toUpperCamelCase(t,r);return e.lcFirst(n)}},{key:"toUpperCamelCase",value:function(t,r){return r?t.split(r).map((function(t){return e.ucFirst(t.toLowerCase())})).join(""):e.ucFirst(t.toLowerCase())}},{key:"parsePrimitive",value:function(e){try{return/^\d+(.|,)\d+$/.test(e)&&(e=e.replace(",",".")),JSON.parse(e)}catch(t){return e.toString()}}}],(r=null)&&o(t.prototype,r),n&&o(t,n),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"isNode",value:function(e){return"object"===s(e)&&null!==e&&(e===document||e===window||e instanceof Node)}},{key:"hasAttribute",value:function(t,r){if(!e.isNode(t))throw new Error("The element must be a valid HTML Node!");return"function"==typeof t.hasAttribute&&t.hasAttribute(r)}},{key:"getAttribute",value:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n&&!1===e.hasAttribute(t,r))throw new Error('The required property "'.concat(r,'" does not exist!'));if("function"==typeof t.getAttribute)return t.getAttribute(r);if(n)throw new Error("This node doesn't support the getAttribute function!")}},{key:"getDataAttribute",value:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=r.replace(/^data(|-)/,""),o=a.toLowerCamelCase(i,"-");if(e.isNode(t)){if(void 0!==t.dataset){var s=t.dataset[o];if(void 0===s){if(n)throw new Error('The required data attribute "'.concat(r,'" does not exist on ').concat(t,"!"));return s}return a.parsePrimitive(s)}if(n)throw new Error("This node doesn't support the dataset attribute!")}else if(n)throw new Error("The passed node is not a valid HTML Node!")}},{key:"querySelector",value:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n&&!e.isNode(t))throw new Error("The parent node is not a valid HTML Node!");var i=t.querySelector(r)||!1;if(n&&!1===i)throw new Error('The required element "'.concat(r,'" does not exist in parent node!'));return i}},{key:"querySelectorAll",value:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n&&!e.isNode(t))throw new Error("The parent node is not a valid HTML Node!");var i=t.querySelectorAll(r);if(0===i.length&&(i=!1),n&&!1===i)throw new Error('At least one item of "'.concat(r,'" must exist in parent node!'));return i}}],(r=null)&&c(t.prototype,r),n&&c(t,n),e}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;l(this,e),this._el=t,t.$emitter=this,this._listeners=[]}var t,r,n;return t=e,(r=[{key:"publish",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new CustomEvent(e,{detail:t});this.el.dispatchEvent(r)}},{key:"subscribe",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this,i=e.split("."),o=r.scope?t.bind(r.scope):t;if(r.once&&!0===r.once){var a=o;o=function(t){n.unsubscribe(e),a(t)}}return this.el.addEventListener(i[0],o),this.listeners.push({splitEventName:i,opts:r,cb:o}),!0}},{key:"unsubscribe",value:function(e){var t=this,r=e.split(".");return this.listeners=this.listeners.reduce((function(e,n){return n.splitEventName.sort().toString()===r.sort().toString()?(t.el.removeEventListener(n.splitEventName[0],n.cb),e):(e.push(n),e)}),[]),!0}},{key:"reset",value:function(){var e=this;return this.listeners.forEach((function(t){e.el.removeEventListener(t.splitEventName[0],t.cb)})),this.listeners=[],!0}},{key:"el",get:function(){return this._el},set:function(e){this._el=e}},{key:"listeners",get:function(){return this._listeners},set:function(e){this._listeners=e}}])&&f(t.prototype,r),n&&f(t,n),e}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(y(this,e),!u.isNode(t))throw new Error("There is no valid element given.");this.el=t,this.$emitter=new d(this.el),this._pluginName=this._getPluginName(n),this.options=this._mergeOptions(r),this._initialized=!1,this._registerInstance(),this._init()}var t,r,n;return t=e,(r=[{key:"init",value:function(){throw new Error('The "init" method for the plugin "'.concat(this._pluginName,'" is not defined.'))}},{key:"update",value:function(){}},{key:"_init",value:function(){this._initialized||(this.init(),this._initialized=!0)}},{key:"_update",value:function(){this._initialized&&this.update()}},{key:"_mergeOptions",value:function(e){var t=a.toDashCase(this._pluginName),r=u.getDataAttribute(this.el,"data-".concat(t,"-config"),!1),n=u.getAttribute(this.el,"data-".concat(t,"-options"),!1),o=[this.constructor.options,this.options,e];r&&o.push(window.PluginConfigManager.get(this._pluginName,r));try{n&&o.push(JSON.parse(n))}catch(e){throw new Error('The data attribute "data-'.concat(t,'-options" could not be parsed to json: ').concat(e.message))}return i.a.all(o.filter((function(e){return e instanceof Object&&!(e instanceof Array)})).map((function(e){return e||{}})))}},{key:"_registerInstance",value:function(){window.PluginManager.getPluginInstancesFromElement(this.el).set(this._pluginName,this),window.PluginManager.getPlugin(this._pluginName,!1).get("instances").push(this)}},{key:"_getPluginName",value:function(e){return e||(e=this.constructor.name),e}}])&&p(t.prototype,r),n&&p(t,n),e}(),v=[{key:"regular",streetValuePrefix:null,isDhlSpecificAddressType:!1},{key:"packstation",streetValuePrefix:"Packstation",isDhlSpecificAddressType:!0},{key:"post-office",streetValuePrefix:"Postfiliale",isDhlSpecificAddressType:!0}];function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m="d-none",g="d-block",w=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.addressFormsByKey={},this.addressFormContainerByKey={},v.forEach((function(e){r.addressFormsByKey[e.key]=r.container.querySelector(".pickware-dhl-".concat(e.key,"-address-form")),r.addressFormContainerByKey[e.key]=r.container.querySelector(".pickware-dhl-".concat(e.key,"-address-form-container"))}))}var t,r,n;return t=e,(r=[{key:"showAddressForm",value:function(e){var t=this;this.toggleCompanyForm(!e.isDhlSpecificAddressType),v.filter((function(t){return t.key!==e.key})).forEach((function(e){return t.toggleAddressForm(e,!1)})),this.toggleAddressForm(e,!0),e.isDhlSpecificAddressType&&this.enableSpecialAddressFormFields(e)}},{key:"toggleAddressForm",value:function(e,t){var r=this.addressFormsByKey[e.key],n=this.addressFormContainerByKey[e.key];r&&n&&(t?n&&n.appendChild(r):r.remove())}},{key:"enableSpecialAddressFormFields",value:function(e){this.container.querySelectorAll(".pickware-dhl-".concat(e.key,"-address-form-container input")).forEach((function(e){e.disabled=""}));var t=this.container.querySelector(".pickware-dhl-".concat(e.key,"-country"));t&&(t.disabled="")}},{key:"toggleCompanyForm",value:function(e){var t=this.container.querySelector(".address-contact-type-company, .js-field-toggle-contact-type-company");t&&(e?this.showNode(t):this.hideNode(t))}},{key:"hideNode",value:function(e){e&&(e.classList.remove(g),e.classList.add(m))}},{key:"showNode",value:function(e){e&&(e.classList.remove(m),e.classList.add(g))}}])&&b(t.prototype,r),n&&b(t,n),e}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=P(e);if(t){var i=P(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return T(this,r)}}function T(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(o,e);var t,r,n,i=O(o);function o(){return S(this,o),i.apply(this,arguments)}return t=o,(r=[{key:"init",value:function(){this.container=this.el.closest(".pickware-dhl-component-address-form-container"),this.container&&(this.addressFormSwitcher=new w(this.container),this.initialiseSpecialAddressForms(),this.selectInitialAddressType(),this.addChangeListenerToRadioButtons())}},{key:"initialiseSpecialAddressForms",value:function(){var e=this;v.filter((function(e){return e.isDhlSpecificAddressType})).forEach((function(t){var r=e.container.querySelector(".pickware-dhl-".concat(t.key,"-street")),n=e.container.querySelector(".pickware-dhl-".concat(t.key,"-number"));r&&n&&(e.setInitialSpecialAddressNumberValue(t,r,n),e.addChangeListenerToSpecialAddressNumberField(t,r,n),e.setHiddenSpecialAddressValues(t))}))}},{key:"setInitialSpecialAddressNumberValue",value:function(e,t,r){var n="".concat(e.streetValuePrefix," (.*)"),i=new RegExp(n,"g").exec(t.value);!i||i.length<1?r.value="":r.value=i[1]}},{key:"addChangeListenerToSpecialAddressNumberField",value:function(e,t,r){r.addEventListener("change",(function(){t.value="".concat(e.streetValuePrefix," ").concat(r.value)}))}},{key:"setHiddenSpecialAddressValues",value:function(e){var t=".pickware-dhl-".concat(e.key,"-country"),r=this.container.querySelector(t),n=this.container.querySelector("".concat(t,' option[iso="DE"]'));r&&n&&(r.value=n.getAttribute("value"))}},{key:"selectInitialAddressType",value:function(){var e=this.container.querySelector(".pickware-dhl-packstation-street");if(e){var t=v.find((function(t){return e.value&&e.value.startsWith(t.streetValuePrefix)})),r=v.find((function(e){return!e.isDhlSpecificAddressType})),n=t||r,i=this.container.querySelector(".pickware-dhl-radio-button-".concat(n.key));i&&(i.checked="checked",this.selectAddressType(n.key))}}},{key:"addChangeListenerToRadioButtons",value:function(){var e=this;this.container.querySelectorAll('input[type="radio"]').forEach((function(t){t.addEventListener("change",(function(){return e.selectAddressType(t.value)}))}))}},{key:"selectAddressType",value:function(e){var t=v.find((function(t){return t.key===e}));this.addressFormSwitcher.showAddressForm(t)}}])&&A(t.prototype,r),n&&A(t,n),o}(h);window.PluginManager.register("PickwareDhlAddressFormPlugin",_,"[pickware-dhl-address-form]")}]);